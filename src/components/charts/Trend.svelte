<script>
    // props
    export let isHighlight;
    import { onMount } from "svelte";
    import {Chart} from "svelte-echarts";

    const options = {
    animationDuration: 0,
    title: {
        text: 'Pencarian keyword "Sandwich Generation"'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data: ['Google Search Volume']
    },
    xAxis: {
        type: 'category',
        data: [
        '2/9/2018',
        '9/9/2018',
        '9/16/2018',
        '9/23/2018',
        '9/30/2018',
        '10/7/2018',
        '10/14/2018',
        '10/21/2018',
        '10/28/2018',
        '11/4/2018',
        '11/11/2018',
        '11/18/2018',
        '11/25/2018',
        '12/2/2018',
        '12/9/2018',
        '12/16/2018',
        '12/23/2018',
        '12/30/2018',
        '1/6/2019',
        '1/13/2019',
        '1/20/2019',
        '1/27/2019',
        '2/3/2019',
        '2/10/2019',
        '2/17/2019',
        '2/24/2019',
        '3/3/2019',
        '3/10/2019',
        '3/17/2019',
        '3/24/2019',
        '3/31/2019',
        '4/7/2019',
        '4/14/2019',
        '4/21/2019',
        '4/28/2019',
        '5/5/2019',
        '5/12/2019',
        '5/19/2019',
        '5/26/2019',
        '6/2/2019',
        '6/9/2019',
        '6/16/2019',
        '6/23/2019',
        '6/30/2019',
        '7/7/2019',
        '7/14/2019',
        '7/21/2019',
        '7/28/2019',
        '8/4/2019',
        '8/11/2019',
        '8/18/2019',
        '8/25/2019',
        '9/1/2019',
        '9/8/2019',
        '9/15/2019',
        '9/22/2019',
        '9/29/2019',
        '10/6/2019',
        '10/13/2019',
        '10/20/2019',
        '10/27/2019',
        '11/3/2019',
        '11/10/2019',
        '11/17/2019',
        '11/24/2019',
        '12/1/2019',
        '12/8/2019',
        '12/15/2019',
        '12/22/2019',
        '12/29/2019',
        '1/5/2020',
        '1/12/2020',
        '1/19/2020',
        '1/26/2020',
        '2/2/2020',
        '2/9/2020',
        '2/16/2020',
        '2/23/2020',
        '3/1/2020',
        '3/8/2020',
        '3/15/2020',
        '3/22/2020',
        '3/29/2020',
        '4/5/2020',
        '4/12/2020',
        '4/19/2020',
        '4/26/2020',
        '5/3/2020',
        '5/10/2020',
        '5/17/2020',
        '5/24/2020',
        '5/31/2020',
        '7/6/2020',
        '6/14/2020',
        '6/21/2020',
        '6/28/2020',
        '7/5/2020',
        '7/12/2020',
        '7/19/2020',
        '7/26/2020',
        '8/2/2020',
        '8/9/2020',
        '8/16/2020',
        '8/23/2020',
        '8/30/2020',
        '9/6/2020',
        '9/13/2020',
        '9/20/2020',
        '9/27/2020',
        '10/4/2020',
        '10/11/2020',
        '10/18/2020',
        '10/25/2020',
        '11/1/2020',
        '11/8/2020',
        '11/15/2020',
        '11/22/2020',
        '11/29/2020',
        '12/6/2020',
        '12/13/2020',
        '12/20/2020',
        '12/27/2020',
        '1/3/2021',
        '1/10/2021',
        '1/17/2021',
        '1/24/2021',
        '1/31/2021',
        '2/7/2021',
        '2/14/2021',
        '2/21/2021',
        '2/28/2021',
        '3/7/2021',
        '3/14/2021',
        '3/21/2021',
        '3/28/2021',
        '4/4/2021',
        '4/11/2021',
        '4/18/2021',
        '4/25/2021',
        '5/2/2021',
        '5/9/2021',
        '5/16/2021',
        '5/23/2021',
        '5/30/2021',
        '6/6/2021',
        '6/13/2021',
        '6/20/2021',
        '6/27/2021',
        '7/4/2021',
        '7/11/2021',
        '7/18/2021',
        '7/25/2021',
        '8/1/2021',
        '8/8/2021',
        '8/15/2021',
        '8/22/2021',
        '8/29/2021',
        '9/5/2021',
        '9/12/2021',
        '9/19/2021',
        '9/26/2021',
        '10/3/2021',
        '10/10/2021',
        '10/17/2021',
        '10/24/2021',
        '10/31/2021',
        '11/7/2021',
        '11/14/2021',
        '11/21/2021',
        '11/28/2021',
        '12/5/2021',
        '12/12/2021',
        '12/19/2021',
        '12/26/2021',
        '1/2/2022',
        '1/9/2022',
        '1/16/2022',
        '1/23/2022',
        '1/30/2022',
        '2/6/2022',
        '2/13/2022',
        '2/20/2022',
        '2/27/2022',
        '6/3/2022',
        '3/13/2022',
        '3/20/2022',
        '3/27/2022',
        '4/3/2022',
        '4/10/2022',
        '4/17/2022',
        '4/24/2022',
        '5/1/2022',
        '5/8/2022',
        '5/15/2022',
        '5/22/2022',
        '5/29/2022',
        '6/5/2022',
        '6/12/2022',
        '6/19/2022',
        '6/26/2022',
        '7/3/2022',
        '7/10/2022',
        '7/17/2022',
        '7/24/2022',
        '7/31/2022',
        '8/7/2022',
        '8/14/2022',
        '8/21/2022',
        '8/28/2022',
        '9/4/2022',
        '9/11/2022',
        '9/18/2022',
        '9/25/2022',
        '10/2/2022',
        '10/9/2022',
        '10/16/2022',
        '10/23/2022',
        '10/30/2022',
        '11/6/2022',
        '11/13/2022',
        '11/20/2022',
        '11/27/2022',
        '12/4/2022',
        '12/11/2022',
        '12/18/2022',
        '12/25/2022',
        '1/1/2023',
        '1/8/2023',
        '1/15/2023',
        '1/22/2023',
        '1/29/2023',
        '2/5/2023',
        '2/12/2023',
        '2/19/2023',
        '2/26/2023',
        '3/5/2023',
        '3/12/2023',
        '3/19/2023',
        '3/26/2023',
        '4/2/2023',
        '4/9/2023',
        '4/16/2023',
        '4/23/2023',
        '4/30/2023',
        '5/7/2023',
        '5/14/2023',
        '5/21/2023',
        '5/28/2023',
        '6/4/2023',
        '6/11/2023',
        '6/18/2023',
        '6/25/2023',
        '7/2/2023',
        '7/9/2023',
        '7/16/2023',
        '7/23/2023',
        '7/30/2023',
        '8/6/2023',
        '8/13/2023',
        '8/20/2023',
        '8/27/2023'
        ]
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            fontSize: 15
        },
    },
    series: [{
        data: [
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 119, 0, 0, 373, 164, 299, 224,
        119, 0, 0, 0, 179, 0, 0, 119, 0, 104, 0, 0, 0, 388, 0, 0, 0, 0, 104,
        403, 194, 0, 0, 0, 89, 0, 164, 179, 104, 134, 0, 0, 0, 0, 0, 0, 0, 89,
        89, 0, 119, 194, 149, 328, 0, 119, 0, 0, 119, 179, 0, 254, 0, 224, 194,
        89, 149, 0, 254, 0, 119, 209, 0, 209, 0, 0, 0, 119, 0, 209, 194, 149,
        418, 0, 89, 104, 343, 358, 478, 254, 284, 164, 149, 224, 149, 194, 224,
        0, 89, 134, 0, 179, 0, 104, 358, 164, 254, 0, 164, 164, 119, 209, 149,
        343, 284, 164, 0, 164, 239, 239, 358, 179, 284, 164, 209, 254, 313, 358,
        284, 448, 299, 209, 538, 343, 119, 209, 388, 194, 134, 373, 478, 313,
        373, 299, 89, 373, 418, 269, 224, 179, 493, 89, 239, 194, 284, 538, 119,
        448, 119, 328, 254, 328, 448, 433, 852, 717, 299, 388, 493, 538, 568,
        523, 717, 687, 388, 882, 553, 627, 463, 762, 343, 403, 732, 1495, 1345,
        538, 433, 732, 777, 822, 1136, 927, 343, 717, 403, 433, 403, 642, 912,
        508, 867, 583, 687, 912, 747, 613, 463, 1016, 1375, 1076, 1226, 927,
        777, 807, 927, 777, 732, 792, 762, 807, 912, 1196, 627, 852, 1061, 956,
        627, 852, 672, 717, 762, 852, 1330, 792, 867, 822, 717, 762, 882, 777,
        777, 687, 732, 897, 1240, 852, 777, 1285, 941, 702
        ],
        type: 'line',
        lineStyle: {color: '#FAB757'},
    }]
  }
  let count = 1;

  $: updateChart(isHighlight);

  const updateChart = (val) => {
    if (val) {
        options.series.push({
            data: options.series[0].data.map((data, index) => index > 70? data : null),
            type: 'line',
            lineStyle: {color: '#45C4A0'},
        })
        count++;
    }
  }
  onMount(() => {
  })
</script>

<div class="app">
    {#key count}
    <Chart {options} key={count}/>
    {/key}
</div>
  
<style>
    .app {
        position: fixed;
        top: 0%;
        left: 0%;
        width: 50vw;
        height: 100vh;
    }
</style>